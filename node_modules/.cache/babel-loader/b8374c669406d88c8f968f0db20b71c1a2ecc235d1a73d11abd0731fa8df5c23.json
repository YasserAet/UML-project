{"ast":null,"code":"// src/utils/codeGenerators/javaGenerator.js\n\nexport function generateJavaCode(diagramData) {\n  const {\n    classes,\n    relationships\n  } = diagramData;\n  const classDefinitions = [];\n  const classNames = getClassNames(classes);\n\n  // Map relationships for associations\n  const associations = getAssociations(relationships, classNames);\n  for (const classId of classes.allIds) {\n    const classData = classes.byId[classId];\n    const baseClass = getBaseClass(classId, relationships, classNames);\n    const attributes = classData.attributes || [];\n    const methods = classData.methods || [];\n    let classDef = `public class ${classData.name} ${baseClass} {\\n`;\n\n    // Auto-increment ID\n    classDef += `    private static int idCounter = 1;\\n`;\n    classDef += `    private int id;\\n`;\n\n    // Attributes\n    for (const attr of attributes) {\n      const accessModifier = attr.access || 'private';\n      classDef += `    ${accessModifier} ${attr.type} ${attr.name};\\n`;\n    }\n\n    // Associations\n    const classAssociations = associations[classId] || [];\n    for (const assoc of classAssociations) {\n      const targetClassName = classNames[assoc.targetClassId];\n      classDef += `    private ${targetClassName} ${assoc.name};\\n`;\n    }\n\n    // Constructor\n    classDef += `\\n    public ${classData.name}(`;\n    // Constructor parameters\n    const constructorParams = attributes.map(attr => `${attr.type} ${attr.name}`);\n    classDef += constructorParams.join(', ');\n    classDef += `) {\\n`;\n    // Auto-increment ID assignment\n    classDef += `        this.id = idCounter++;\\n`;\n    // Initialize attributes\n    for (const attr of attributes) {\n      classDef += `        this.${attr.name} = ${attr.name};\\n`;\n    }\n    // Initialize associations to null\n    for (const assoc of classAssociations) {\n      classDef += `        this.${assoc.name} = null; // Association to ${classNames[assoc.targetClassId]}\\n`;\n    }\n    classDef += `    }\\n`;\n\n    // Methods\n    for (const method of methods) {\n      const methodSignature = getJavaMethodSignature(method);\n      classDef += `\\n    ${methodSignature} {\\n        // TODO: Implement\\n    }\\n`;\n    }\n    classDef += `}\\n`;\n    classDefinitions.push(classDef);\n  }\n  return classDefinitions.join('\\n\\n');\n}\n\n// Helper Functions\n\nfunction getClassNames(classes) {\n  const classNames = {};\n  for (const classId of classes.allIds) {\n    classNames[classId] = classes.byId[classId].name;\n  }\n  return classNames;\n}\nfunction getBaseClass(classId, relationships, classNames) {\n  const inheritance = relationships.allIds.map(relId => relationships.byId[relId]).find(rel => rel.type === 'Inheritance' && rel.sourceClassId === classId);\n  if (inheritance) {\n    return `extends ${classNames[inheritance.targetClassId]}`;\n  } else {\n    return '';\n  }\n}\nfunction getJavaMethodSignature(method) {\n  const accessModifier = method.access || 'public';\n  const returnType = method.returnType || 'void';\n  const params = method.parameters || [];\n  const paramList = params.map(param => `${param.type} ${param.name}`).join(', ');\n  return `${accessModifier} ${returnType} ${method.name}(${paramList})`;\n}\nfunction getAssociations(relationships, classNames) {\n  const associations = {};\n  relationships.allIds.map(relId => relationships.byId[relId]).filter(rel => rel.type === 'Association' || rel.type === 'Aggregation' || rel.type === 'Composition').forEach(rel => {\n    if (!associations[rel.sourceClassId]) {\n      associations[rel.sourceClassId] = [];\n    }\n    const name = rel.name || classNames[rel.targetClassId].toLowerCase();\n    associations[rel.sourceClassId].push({\n      targetClassId: rel.targetClassId,\n      name\n    });\n  });\n  return associations;\n}","map":{"version":3,"names":["generateJavaCode","diagramData","classes","relationships","classDefinitions","classNames","getClassNames","associations","getAssociations","classId","allIds","classData","byId","baseClass","getBaseClass","attributes","methods","classDef","name","attr","accessModifier","access","type","classAssociations","assoc","targetClassName","targetClassId","constructorParams","map","join","method","methodSignature","getJavaMethodSignature","push","inheritance","relId","find","rel","sourceClassId","returnType","params","parameters","paramList","param","filter","forEach","toLowerCase"],"sources":["C:/Users/Yasser Aitali/Documents/UML_PROJECT/src/utils/codeGenerators/javaGenerator.js"],"sourcesContent":["// src/utils/codeGenerators/javaGenerator.js\r\n\r\nexport function generateJavaCode(diagramData) {\r\n  const { classes, relationships } = diagramData;\r\n  const classDefinitions = [];\r\n  const classNames = getClassNames(classes);\r\n\r\n  // Map relationships for associations\r\n  const associations = getAssociations(relationships, classNames);\r\n\r\n  for (const classId of classes.allIds) {\r\n    const classData = classes.byId[classId];\r\n    const baseClass = getBaseClass(classId, relationships, classNames);\r\n    const attributes = classData.attributes || [];\r\n    const methods = classData.methods || [];\r\n\r\n    let classDef = `public class ${classData.name} ${baseClass} {\\n`;\r\n\r\n    // Auto-increment ID\r\n    classDef += `    private static int idCounter = 1;\\n`;\r\n    classDef += `    private int id;\\n`;\r\n\r\n    // Attributes\r\n    for (const attr of attributes) {\r\n      const accessModifier = attr.access || 'private';\r\n      classDef += `    ${accessModifier} ${attr.type} ${attr.name};\\n`;\r\n    }\r\n\r\n    // Associations\r\n    const classAssociations = associations[classId] || [];\r\n    for (const assoc of classAssociations) {\r\n      const targetClassName = classNames[assoc.targetClassId];\r\n      classDef += `    private ${targetClassName} ${assoc.name};\\n`;\r\n    }\r\n\r\n    // Constructor\r\n    classDef += `\\n    public ${classData.name}(`;\r\n    // Constructor parameters\r\n    const constructorParams = attributes.map((attr) => `${attr.type} ${attr.name}`);\r\n    classDef += constructorParams.join(', ');\r\n    classDef += `) {\\n`;\r\n    // Auto-increment ID assignment\r\n    classDef += `        this.id = idCounter++;\\n`;\r\n    // Initialize attributes\r\n    for (const attr of attributes) {\r\n      classDef += `        this.${attr.name} = ${attr.name};\\n`;\r\n    }\r\n    // Initialize associations to null\r\n    for (const assoc of classAssociations) {\r\n      classDef += `        this.${assoc.name} = null; // Association to ${classNames[assoc.targetClassId]}\\n`;\r\n    }\r\n    classDef += `    }\\n`;\r\n\r\n    // Methods\r\n    for (const method of methods) {\r\n      const methodSignature = getJavaMethodSignature(method);\r\n      classDef += `\\n    ${methodSignature} {\\n        // TODO: Implement\\n    }\\n`;\r\n    }\r\n\r\n    classDef += `}\\n`;\r\n    classDefinitions.push(classDef);\r\n  }\r\n\r\n  return classDefinitions.join('\\n\\n');\r\n}\r\n\r\n// Helper Functions\r\n\r\nfunction getClassNames(classes) {\r\n  const classNames = {};\r\n  for (const classId of classes.allIds) {\r\n    classNames[classId] = classes.byId[classId].name;\r\n  }\r\n  return classNames;\r\n}\r\n\r\nfunction getBaseClass(classId, relationships, classNames) {\r\n  const inheritance = relationships.allIds\r\n    .map((relId) => relationships.byId[relId])\r\n    .find(\r\n      (rel) =>\r\n        rel.type === 'Inheritance' && rel.sourceClassId === classId\r\n    );\r\n  if (inheritance) {\r\n    return `extends ${classNames[inheritance.targetClassId]}`;\r\n  } else {\r\n    return '';\r\n  }\r\n}\r\n\r\nfunction getJavaMethodSignature(method) {\r\n  const accessModifier = method.access || 'public';\r\n  const returnType = method.returnType || 'void';\r\n  const params = method.parameters || [];\r\n  const paramList = params.map((param) => `${param.type} ${param.name}`).join(', ');\r\n  return `${accessModifier} ${returnType} ${method.name}(${paramList})`;\r\n}\r\n\r\nfunction getAssociations(relationships, classNames) {\r\n  const associations = {};\r\n  relationships.allIds\r\n    .map((relId) => relationships.byId[relId])\r\n    .filter((rel) => rel.type === 'Association' || rel.type === 'Aggregation' || rel.type === 'Composition')\r\n    .forEach((rel) => {\r\n      if (!associations[rel.sourceClassId]) {\r\n        associations[rel.sourceClassId] = [];\r\n      }\r\n      const name = rel.name || classNames[rel.targetClassId].toLowerCase();\r\n      associations[rel.sourceClassId].push({\r\n        targetClassId: rel.targetClassId,\r\n        name,\r\n      });\r\n    });\r\n  return associations;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}